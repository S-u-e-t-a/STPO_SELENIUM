<hc:Window x:Class="STPO_dynamic_test.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:hc="https://handyorg.github.io/handycontrol"
        xmlns:stpoDynamicTest="clr-namespace:STPO_dynamic_test"
        mc:Ignorable="d"
        Title="Динамическое тестирование" 
        WindowStartupLocation="CenterScreen"
        ShowTitle="True"
        Height="450" 
        Width="800"
        d:DataContext="{d:DesignInstance stpoDynamicTest:VM}">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition />
            
        </Grid.ColumnDefinitions>
        <Expander Grid.Column="0" ExpandDirection="Right" IsExpanded="True">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition/>
                    <RowDefinition Height="40"/>
                </Grid.RowDefinitions>
                <StackPanel>
                    <Border CornerRadius="7" Background="White" Margin="5,10,0,0">
                        <Border.Effect>
                            <DropShadowEffect ShadowDepth="0" Opacity="0.3"/>
                        </Border.Effect>
                        <GroupBox Header="Настройки генератора тест кейсов" Style="{StaticResource GroupBoxOriginal}">
                            <StackPanel>
                                <hc:TextBox hc:InfoElement.Title="Количество тест-кейсов"
                                            hc:InfoElement.TitlePlacement="Left" Margin="10 5"
                                            hc:InfoElement.TitleWidth="200"
                                            Text="{Binding CountOfCases,  Mode=TwoWay, UpdateSourceTrigger=PropertyChanged }"
                                            HorizontalAlignment="Stretch">
                                    
                                </hc:TextBox>
                                <CheckBox Content="Позитивные" IsChecked="{Binding IsPositive}"
                                  Margin="10 5"
                                  HorizontalAlignment="Stretch">
                                </CheckBox>
                                <hc:TextBox hc:InfoElement.Title="Допустимая погрешность"
                                            hc:InfoElement.TitlePlacement="Left" Margin="10 5"
                                            hc:InfoElement.TitleWidth="200"
                                            Text="{Binding Eps,  Mode=TwoWay, UpdateSourceTrigger=PropertyChanged }"
                                            HorizontalAlignment="Stretch">
                                </hc:TextBox>
                            </StackPanel>
                        </GroupBox>

                    </Border>
                    <Border CornerRadius="7" Background="White" Margin="5,10,0,0">
                        <Border.Effect>
                            <DropShadowEffect ShadowDepth="0" Opacity="0.3"/>
                        </Border.Effect>
                        <GroupBox Header="Исходные данные" Style="{StaticResource GroupBoxOriginal}">

                            <StackPanel>
                                <hc:TextBox hc:InfoElement.Title="Левая граница диапазона"
                                            hc:InfoElement.TitlePlacement="Left" Margin="10 5"
                                            hc:InfoElement.TitleWidth="200"
                                            Text="{Binding Left, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                            HorizontalAlignment="Stretch">
                                    
                                </hc:TextBox>
                                <hc:TextBox hc:InfoElement.Title="Правая граница диапазона"
                                            hc:InfoElement.TitlePlacement="Left" Margin="10 5"
                                            hc:InfoElement.TitleWidth="200"
                                            Text="{Binding Right,  Mode=TwoWay, UpdateSourceTrigger=PropertyChanged }"
                                            HorizontalAlignment="Stretch">
                                    
                                </hc:TextBox>
                                <hc:ComboBox hc:InfoElement.Title="Метод интегрирования"
                                     hc:InfoElement.TitlePlacement="Left"
                                     hc:InfoElement.TitleWidth="200"
                                     Margin="10 5"
                                     HorizontalAlignment="Stretch"
                                     ItemsSource="{Binding Methods}"
                                     SelectedItem="{Binding SelectedMethod}" DisplayMemberPath="Name">

                                </hc:ComboBox>
                                <hc:TextBox hc:InfoElement.Title="Коэффициенты полинома"
                                                  hc:InfoElement.TitlePlacement="Left" Margin="10 5"
                                                  hc:InfoElement.TitleWidth="200"
                                                  HorizontalAlignment="Stretch">
                                    <hc:TextBox.Text>
                                        <Binding Path="Coefs" Mode="TwoWay"
                                                 UpdateSourceTrigger="PropertyChanged" >
                                        </Binding>
                                    </hc:TextBox.Text>
                                </hc:TextBox>
                            </StackPanel>

                        </GroupBox>

                    </Border>
                </StackPanel>
                <StackPanel Grid.Row="1"  VerticalAlignment="Bottom" Margin="0,0,0,6" >
                    <!--<Border Height="40" CornerRadius="7" Background="White" Margin="5,10,0,0">
                        <Border.Effect>
                            <DropShadowEffect ShadowDepth="0" Opacity="0.3"/>
                        </Border.Effect>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                            <Button Content="СТАРТ" Width="70" Background="#6cc644" Foreground="#f5f5f5">

                            </Button>
                            <Button Content="Экспорт" Width="70" Background="#4078c0" Foreground="#f5f5f5" Margin="5,0,0,0">

                            </Button>
                        </StackPanel>
                    </Border>-->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                        <Button Command="{Binding StartCommand}" Content="СТАРТ" Width="70" Background="#6cc644" Foreground="#f5f5f5">

                        </Button>
                        <Button Command="{Binding SaveResult}" Content="Экспорт" Width="70" Background="#4078c0" Foreground="#f5f5f5" Margin="5,0,0,0">

                        </Button>
                    </StackPanel>
                </StackPanel>
            </Grid>
           
        </Expander>
        <Border  CornerRadius="7" Background="White" Grid.Column="1" Margin="10,10,10,10">
            <Border.Effect>
                <DropShadowEffect ShadowDepth="0" Opacity="0.3"/>
            </Border.Effect>
            <hc:TextBox IsReadOnly="True" hc:InfoElement.Title="Вывод" TextWrapping="Wrap" Text="{Binding Result, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" FontSize="16">

            </hc:TextBox>
        </Border>
    </Grid>
</hc:Window>
